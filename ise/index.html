
<head>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://actwu.github.io/neu/n.js"></script>
<title>B Code</title>
<meta name="description" content="B code a Code Block for Coding Better.">
<meta name="keywords" content="code, editor, ai">
<link rel="canonical" href="">
<link rel="stylesheet" href="https://ise.web.app/load.css">
<script>
setViewport();
</script>

<style>
textarea {
width: min-content;
min-width: min-content;
}
</style>
</head>

<body>
<nav top id="itm" row class="hide">
<a bol2 small-p onmousedown="openFile()">
<i m class="fa-solid fa-lg fa-upload"></i></a>
<a bol2 small-p onmousedown=" code = '';
dda = code.target; 
document.querySelectorAll('.code-block').forEach(block => {
code += block.value + '\n';
});
newFile({filename:`${ran(9e9)}.html`, filetype:'javascript/js', data: code})

"><i m class="fa-solid fa-lg fa-cloud-download"></i></a>

</nav>
<nav bbg no-m item layer="3">

<a gbg2 small-p onmousedown="code = ''; 
document.querySelectorAll('.code-block').forEach(block => {
code += block.value + '\n';
});
navigator.clipboard.writeText(code).then(() => {
    alert('Code copied to clipboard!');
});">
<i g class="fa-solid fa-lg fa-copy"></i></a>
  
 <a lbg2 small-p onmousedown="runCode(); document.getElementById('viewer').classList.toggle('hide');">
<i l class="fa-solid fa-lg fa-play"></i>
 </a>
    
<a bbg2 small-p
onclick="document.querySelector('#precode').classList.toggle('hide')">
<i m class="fa-solid fa-lg fa-shapes"></i></a>

    <a bbg2 small-p
onclick="
        document.querySelector('#itm').classList.toggle('hide')
        document.querySelector('#stu').classList.toggle('hide');
        ">
<i m class="fa-solid fa-lg fa-gear"></i></a>

<div rbg2 mid-p hide bdr="25" id="trashcan">
<i r class="fa-solid fa-lg fa-trash"></i>
</div>
</nav>
<span class="hide" no-m row bdr="25" id="precode">

<a bdr="25" mono onmousedown="
addCode('<p> Text </p>', 'Output');">Text</a>
<a bdr="25" mono onmousedown='
addCode(`<a onmousedown=""> 
<p>Button</p>
</a>`, "Output");'>Button</a>
<a bdr="25" mono onmousedown="
addCode(`<textarea m placeholder='Textarea'></textarea>`, 'Value');">Textarea</a>

<a bdr="25" mono onmousedown="
addCode(`<cont>`, `System`);">Cont Start</a>
<a bdr="25" mono onmousedown="
addCode(`</cont>`, `System`);">Cont Ending</a>
<a bdr="25" mono onmousedown="
addCode(`<span>`, `System`);">Span Start</a>
<a bdr="25" mono onmousedown="
addCode(`</span>`, `System`);">Span Ending</a>

</span>
  <screen id="viewer" class="hide" bbg></screen>  
<div l-f small-p mid-pb item id="codeContainer">

<span id="stu" class="hide">
<textarea readonly big bol2 m flex small-p class="code-block" draggable="true">
<setup>
set.title('myApp');
set.info('My app');
set.key('apple, fruit');
set.view();
set.cover(1);
set.icon(1);
ui();
</setup>
</textarea>
</span>
<textarea hide readonly bol2 m flex small-p class="code-block" draggable="true">
<body>
</textarea>

  <textarea bol2 m mid flex small-p class="code-block" draggable="true">
<nav no-m bbg>
<p m> Topbar </p>
</nav>
  </textarea>

  <textarea hide readonly bol2 m flex small-p class="code-block" draggable="true">
</body>
  </textarea>
  
  <textarea hide bol2 m mid flex small-p class="code-block" draggable="true">
<script src="https://ise.web.app/load.js"></script>
  </textarea>

</div>

<script src="https://actwu.github.io/neu/n.js"></script>
<script>

out = (data) => { alert(data) };
document.querySelectorAll('.code-block').forEach(block => {
block.addEventListener('dragstart', dragStart);
block.addEventListener('dragend', dragEnd)
});

let draggedBlock = null;

function dragStart(e) {
draggedBlock = e.target;
e.dataTransfer.setData('text/plain', e.target.value);
setTimeout(() => {
e.target.style.opacity = "50%";
}, 0);
}

function dragEnd(e) {
e.target.style.opacity = "100%";

draggedBlock = null;
}

document.getElementById('codeContainer').addEventListener('dragover', dragOver);
document.getElementById('codeContainer').addEventListener('drop', drop);

function dragOver(e) {
e.preventDefault();
}

function drop(e) {
e.preventDefault();

const codeContainer = document.getElementById('codeContainer');
const code = e.dataTransfer.getData('text/plain');

const newBlock = draggedBlock.cloneNode(true);
newBlock.style.display = 'block';
newBlock.value = code;
newBlock.style.opacity = "100%";

newBlock.removeAttribute("disabled", "")
newBlock.addEventListener('dragstart', dragStart);
newBlock.addEventListener('dragend', dragEnd);

if (e.target === codeContainer) {
codeContainer.appendChild(newBlock);
} else {
e.target.insertAdjacentElement('afterend', newBlock);
}
if (draggedBlock) {
draggedBlock.remove();
}
}

document.getElementById('runCode').addEventListener('click', () => {
let code = '';
document.querySelectorAll('.code-block').forEach(block => {
code += block.value + '\n';
});
try {
document.getElementById('output').innerText = eval(code) == undefined ? "Running" : eval(code);
} catch (err) {
document.getElementById('output').innerText = 'Error: ' + err.message;
}
});
    
function runCode() {
let code = '';
document.querySelectorAll('.code-block').forEach(block => {
code += block.value + '\n';
});
document.getElementById('viewer').innerHTML = code; 
}


function addCode(code, type) {
const newBlock = document.createElement('textarea');

if (type == "Output" || type == 1) {
newBlock.setAttribute('yol2', '')
newBlock.setAttribute('y', '')
} else if (type == "Value" || type == 2){
newBlock.setAttribute('lol2', '')
newBlock.setAttribute('l', '')
} else if (type == "System"|| type == 3) {
newBlock.setAttribute('rol2', '')
newBlock.setAttribute('r', '')
} else {
newBlock.setAttribute('bol2', '')
newBlock.setAttribute('b', '')
}
newBlock.setAttribute('mid', '');
newBlock.setAttribute('flex', '');
newBlock.setAttribute('small-p', '');
newBlock.setAttribute('m', '');
newBlock.className = 'code-block';
newBlock.draggable = true;
newBlock.value = code;
newBlock.addEventListener('dragstart', dragStart);
newBlock.addEventListener('dragend', dragEnd);
document.getElementById('codeContainer').appendChild(newBlock);
}

const trashcan = document.getElementById('trashcan');
const tcon = document.querySelector('i.fa-trash');


trashcan.addEventListener('dragover', e => {
e.preventDefault();
trashcan.removeAttribute('rbg2');
trashcan.setAttribute('rbg', '');

tcon.removeAttribute('r');
tcon.setAttribute('r2', '');
});

trashcan.addEventListener('dragleave', e => {
e.preventDefault();

trashcan.removeAttribute('rbg');
trashcan.setAttribute('rbg2', '');

tcon.removeAttribute('r2');
tcon.setAttribute('r', '');
});
trashcan.addEventListener('drop', e => {
e.preventDefault();
trashcan.removeAttribute('rbg');
trashcan.setAttribute('rbg2', '');

tcon.removeAttribute('r2');
tcon.setAttribute('r', '');
const code = e.dataTransfer.getData('text/plain');
document.querySelectorAll('.code-block').forEach(block => {
if (block.value === code) {
block.remove();
}
trashcan.removeAttribute('rbg');
trashcan.setAttribute('rbg2', '');

tcon.removeAttribute('r2');
tcon.setAttribute('r', '');
});
});

function openFile() {
const input = document.createElement('input');
input.type = 'file';
input.style.visibility = 'hidden';
document.body.append(input);

input.addEventListener('change', (event) => {
const file = event.target.files[0];
const reader = new FileReader();

reader.onload = () => {
const fileData = reader.result;
const codeLines = fileData.split('\n');

const codeContainer = document.getElementById('codeContainer');
codeContainer.innerHTML = '';

codeLines.forEach(line => {
addCode(line, ran(3))
});
};

reader.readAsText(file);
});

input.click();
}

</script>
</body>

